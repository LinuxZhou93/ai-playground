<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta http-equiv="cache-control" content="no-cache">
<meta charset="utf-8">

<head>
    <title>Junior</title>
    <link href="css/base.css" rel="stylesheet">
    <link href="css/editor.css" rel="stylesheet">
    <link href="css/editorleftpanel.css" rel="stylesheet">
    <link href="css/editorstage.css" rel="stylesheet">
    <link href="css/editormodal.css" rel="stylesheet">
    <link href="css/librarymodal.css" rel="stylesheet">
    <link href="css/paintlook.css" rel="stylesheet">

    <script>
        window.scratchJrPage = 'editor';

        // POLYFILL: Mouse -> Touch
        (function () {
            if ('ontouchstart' in window) return;

            function createTouch(target, e) {
                return new Touch({
                    identifier: Date.now(),
                    target: target,
                    clientX: e.clientX,
                    clientY: e.clientY,
                    screenX: e.screenX,
                    screenY: e.screenY,
                    pageX: e.pageX,
                    pageY: e.pageY
                });
            }

            function dispatch(type, e) {
                if (e.button !== 0) return;
                const touch = createTouch(e.target, e);
                const event = new TouchEvent(type, {
                    cancelable: true,
                    bubbles: true,
                    touches: (type === 'touchend') ? [] : [touch],
                    targetTouches: (type === 'touchend') ? [] : [touch],
                    changedTouches: [touch],
                    view: window
                });
                e.target.dispatchEvent(event);
            }

            let isDown = false;
            document.addEventListener('mousedown', (e) => { isDown = true; dispatch('touchstart', e); }, true);
            document.addEventListener('mousemove', (e) => { if (isDown) dispatch('touchmove', e); }, true);
            document.addEventListener('mouseup', (e) => { isDown = false; dispatch('touchend', e); }, true);
        })();
    </script>
    <script type="text/javascript" src="app.bundle.js"></script>
</head>

<body style="background: white;">
    <div class="frame" id="frame"></div>
    <div class="libframe" id="libframe"></div>
    <div class="paintframe" id="paintframe"></div>

</body>

</html>