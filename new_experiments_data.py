
# --- 10. Expanded STEM Experiments (Phase 5) ---

# Computer Science (Algorithm Visualizations, Coding)
cs_experiments = [
    # Sort Visualizer
    ("Sorting Algorithms Visualizer", "Computer Science", "High", "Interactive visualization of Bubble, Merge, Quick, and Heap sort.", "冒泡、归并、快速、堆排序的交互式可视化演示。", "https://www.toptal.com/developers/sorting-algorithms", "Sorting Algorithms"),
    ("VisuAlgo - Sorting", "Computer Science", "High", "Visualising sorting algorithms: Bubble, Selection, Insertion, Merge, Quick, Random Quick, Counting, Radix.", "排序算法可视化：冒泡、选择、插入、归并、快速、基数排序等。", "https://visualgo.net/en/sorting", "VisuAlgo Sorting"),
    ("VisuAlgo - Binary Search Tree", "Computer Science", "University", "Visualising Binary Search Trees (BST) and AVL Trees.", "二叉搜索树 (BST) 和 AVL 树的可视化演示。", "https://visualgo.net/en/bst", "VisuAlgo BST"),
    ("VisuAlgo - Graph Traversal", "Computer Science", "University", "Visualising DFS and BFS graph traversal algorithms.", "图的遍历算法可视化：深度优先 (DFS) 和广度优先 (BFS)。", "https://visualgo.net/en/dfsbfs", "VisuAlgo Graph"),
    ("VisuAlgo - Shortest Path", "Computer Science", "University", "Visualising Shortest Path algorithms: Dijkstra, Bellman Ford, Floyd Warshall.", "最短路径算法可视化：Dijkstra, Bellman Ford, Floyd Warshall。", "https://visualgo.net/en/sssp", "VisuAlgo Path"),
    ("Pathfinding Visualizer", "Computer Science", "High", "Visualize pathfinding algorithms like A*, Dijkstra, and BFS in a grid.", "在网格中可视化 A*、Dijkstra 和 BFS 等寻路算法。", "https://clementmihailescu.github.io/Pathfinding-Visualizer/", "Pathfinding"),
    # PythonTutor
    ("Python Tutor", "Computer Science", "All", "Visualize code execution step-by-step for Python, Java, C++, and JavaScript.", "逐步可视化 Python, Java, C++, JavaScript 代码的执行过程。", "https://pythontutor.com/visualize.html#mode=edit", "Python Tutor"),
    # Regex
    ("Regex101", "Computer Science", "High", "Interactive Regular Expression tester and debugger.", "交互式正则表达式测试和调试工具。", "https://regex101.com/", "Regex101"),
    ("RegExr", "Computer Science", "High", "Learn, build, and test Regular Expressions.", "学习、构建和测试正则表达式。", "https://regexr.com/", "RegExr"),
    # Web Dev
    ("Flexbox Froggy", "Computer Science", "All", "A game for learning CSS Flexbox layouts.", "通过游戏学习 CSS Flexbox 布局。", "https://flexboxfroggy.com/", "Flexbox Froggy"),
    ("Grid Garden", "Computer Science", "All", "A game for learning CSS Grid layouts.", "通过游戏学习 CSS Grid 布局。", "https://cssgridgarden.com/", "Grid Garden"),
    # General CS
    ("NandGame", "Computer Science", "University", "Build a computer from scratch using logic gates.", "从零开始使用逻辑门构建一台计算机。", "https://nandgame.com/", "NandGame"),
    ("Logic.ly Demo", "Computer Science", "High", "Interactive logic gate simulator.", "交互式逻辑门模拟器。", "https://logic.ly/demo/", "Logic.ly"),
    ("Turing Machine Simulator", "Computer Science", "University", "Simulate a Turing Machine online.", "在线模拟图灵机运行。", "https://morphett.info/turing/turing.html", "Turing Machine"),
    ("SQL Murder Mystery", "Computer Science", "High", "Learn SQL concepts by solving a murder mystery.", "通过侦破谋杀案来学习 SQL 数据库查询。", "https://mystery.knightlab.com/", "SQL Mystery"),
    ("Git Branching", "Computer Science", "High", "Interactive visualization to learn Git branching.", "学习 Git 分支管理的交互式可视化工具。", "https://learngitbranching.js.org/", "Git Branching"),
    ("Binary Game", "Computer Science", "Middle", "Cisco's game to learn binary number conversion.", "思科出品的二进制转换学习游戏。", "https://learningnetwork.cisco.com/s/binary-game", "Binary Game"),
    ("Crypto Hack", "Computer Science", "University", "Learn cryptography through interactive challenges.", "通过互动挑战学习现代密码学。", "https://cryptohack.org/", "Crypto Hack"),
    ("ShaderToy", "Computer Science", "University", "Create and share shaders in WebGL.", "编写和分享 WebGL 着色器代码。", "https://www.shadertoy.com/", "ShaderToy"),
    ("Three.js Editor", "Computer Science", "High", "Online 3D editor based on Three.js.", "基于 Three.js 的在线 3D 编辑器。", "https://threejs.org/editor/", "Three.js Editor"),
     ("JSON Visio", "Computer Science", "All", "Visualize JSON data as graphs.", "将 JSON 数据可视化为图形结构。", "https://jsonvisio.com/", "JSON Visio"),
    ("AlgoAnim", "Computer Science", "High", "Collection of algorithm animations.", "算法动画集合。", "https://algoanim.ide.sk/", "AlgoAnim"),
    ("Visual Go (Go Concurrency)", "Computer Science", "University", "Visualize Go concurrency traces.", "Go 语言并发与追踪可视化。", "https://divan.dev/posts/go_concurrency_visualize/", "Go Concurrency"),
    ("Event Loop", "Computer Science", "High", "Visualize the JavaScript Event Loop.", "可视化 JavaScript 事件循环机制。", "http://latentflip.com/loupe/", "JS Event Loop"),
    ("AST Explorer", "Computer Science", "University", "Visualize Abstract Syntax Trees for various languages.", "查看各种编程语言的抽象语法树(AST)。", "https://astexplorer.net/", "AST Explorer")

]

# Electronics & Circuits
electronics_experiments = [
    ("Falstad Circuit Simulator", "Electronics", "University", "Advanced interactive circuit simulator.", "高级交互式电路模拟器(模拟/数字)。", "https://www.falstad.com/circuit/circuitjs.html", "Falstad"),
    ("EveryCircuit", "Electronics", "High", "Interactive circuit simulation with real-time animations.", "带有实时动画的交互式电路仿真。", "https://everycircuit.com/app", "EveryCircuit"),
    ("Tinkercad Circuits", "Electronics", "Middle/High", "Simulate Arduino and basic electronics.", "模拟 Arduino 和基础电子元件。", "https://www.tinkercad.com/circuits", "Tinkercad"),
    ("Wokwi", "Electronics", "High", "Online Arduino and ESP32 Simulator.", "在线 Arduino 和 ESP32 模拟器。", "https://wokwi.com/", "Wokwi"),
    ("CircuitVerse", "Electronics", "High", "Digital logic circuit simulator.", "数字逻辑电路模拟器。", "https://circuitverse.org/simulator", "CircuitVerse"),
    ("PartSim", "Electronics", "High", "SPICE circuit simulator.", "SPICE 电路模拟器。", "https://www.partsim.com/simulator", "PartSim"),
    ("EasyEDA Designer", "Electronics", "University", "Online PCB design and circuit simulation.", "在线 PCB 设计和电路仿真。", "https://easyeda.com/editor", "EasyEDA"),
    ("DoCircuits", "Electronics", "High", "Virtual labs for electronics.", "电子学虚拟实验室。", "https://www.docircuits.com/", "DoCircuits"),
    ("Lushprojects Circuit Simulator", "Electronics", "High", "HTML5 version of Falstad simulator.", "Falstad 模拟器的 HTML5 版本。", "http://lushprojects.com/circuitjs/circuitjs.html", "Lushprojects"),
    ("Micro:bit MakeCode", "Electronics", "Middle", "Block editor and simulator for micro:bit.", "Micro:bit 的积木编程编辑器和模拟器。", "https://makecode.microbit.org/", "MakeCode"),
    ("Arduino Cloud Editor", "Electronics", "High", "Official online Arduino IDE.", "官方 Arduino 在线 IDE。", "https://create.arduino.cc/editor", "Arduino Cloud"),
    ("123D Circuits", "Electronics", "High", "Autodesk's legacy circuit lab.", "Autodesk 的经典电路实验室。", "https://library.io/", "123D Circuits"),
    ("Scheme-it", "Electronics", "High", "Schematic drawing and block diagram tool.", "原理图绘制和框图设计工具。", "https://www.digikey.com/schemeit/project/", "Scheme-it"),
    ("Upverter", "Electronics", "University", "Hardware design in the browser.", "浏览器中的硬件设计工具。", "https://upverter.com/", "Upverter"),
    ("Flux.ai", "Electronics", "University", "Collaborative PCB design tool.", "协作式 PCB 设计工具。", "https://www.flux.ai/", "Flux"),
    ("SimulIDE", "Electronics", "High", "Real-time electronic circuit simulator.", "实时电子电路模拟器。", "https://www.simulide.com/p/downloads.html", "SimulIDE"), # Note: Download mostly, but listing for reference
    ("Logic Friday", "Electronics", "High", "Free software for boolean logic optimization.", "布尔逻辑优化工具。", "https://sontrak.com/", "Logic Friday"),
    ("QUCS", "Electronics", "University", "Quite Universal Circuit Simulator.", "通用电路模拟器。", "http://qucs.sourceforge.net/", "QUCS"),
    ("Ngspice", "Electronics", "University", "Mixed-level/mixed-signal circuit simulator.", "混合信号电路模拟器。", "http://ngspice.sourceforge.net/", "Ngspice"),
    ("Logisim Evolution", "Electronics", "High", "Digital logic design tool.", "数字逻辑设计工具。", "https://github.com/logisim-evolution/logisim-evolution", "Logisim")
]

# Mechanical Engineering
mechanical_experiments = [
    ("Algodoo", "Mechanical", "All", "2D physics sandbox for mechanics.", "2D 物理沙盒，用于机械结构设计。", "http://www.algodoo.com/web", "Algodoo"),
    ("Mechanisms 101", "Mechanical", "University", "Database of mechanical mechanisms.", "机械机构数据库。", "http://www.mechanisms101.com/", "Mech 101"),
    ("Gear Generator", "Mechanical", "High", "Tool for creating involute spur gears.", "渐开线直齿轮生成工具。", "https://geargenerator.com/", "Gear Generator"),
    ("Involute Spur Gear", "Mechanical", "High", "Another gear design calculator.", "另一个齿轮设计计算器。", "http://www.hessmer.org/gears/InvoluteSpurGearBuilder.html", "Involute Gear"),
    ("Linkage", "Mechanical", "University", "Planar linkage mechanism design.", "平面连杆机构设计。", "https://blog.rectorsquid.com/linkage-mechanism-designer-and-simulator/", "Linkage"),
    ("MechAnalyzer", "Mechanical", "University", "Kinematics of planar mechanisms.", "平面机构运动学分析。", "http://www.roboanalyzer.com/mechanalyzer.html", "MechAnalyzer"),
    ("Forces in 2D", "Mechanical", "High", "Simulate forces and moments.", "模拟二维中的力和力矩。", "https://phet.colorado.edu/en/simulation/forces-and-motion-basics", "Forces 2D"), # PhET duplicate but useful category
    ("Truss Simulator", "Mechanical", "University", "Analyze forces in trusses.", "桁架受力分析。", "https://ei.jhu.edu/truss-simulator/", "Truss Sim"),
    ("SkyCiv Beam", "Mechanical", "University", "Bending moment and shear force calculator.", "弯矩和剪力计算器。", "https://skyciv.com/free-beam-calculator/", "SkyCiv Beam"),
    ("Engineering Toolbox", "Mechanical", "All", "Resources, tools and basic information.", "工程资源、工具和基础信息库。", "https://www.engineeringtoolbox.com/", "Eng Toolbox"),
    ("Mechanism Examples", "Mechanical", "High", "Animated mechanisms.", "机械机构动画演示。", "http://507movements.com/", "507 Movements"),
    ("CAD Onshape", "Mechanical", "University", "Cloud-native CAD system.", "云原生 CAD 系统。", "https://www.onshape.com/", "Onshape"),
    ("TinkerCAD 3D", "Mechanical", "Middle", "Simple 3D modeling.", "包含机械零件设计的简单 3D 建模。", "https://www.tinkercad.com/3d-design", "TinkerCAD 3D"),
    ("SelfCAD", "Mechanical", "High", "3D Modeling software online.", "在线 3D 建模软件。", "https://www.selfcad.com/", "SelfCAD"),
    ("Vectary", "Mechanical", "High", "Web-based 3D design tool.", "基于 Web 的 3D 设计工具。", "https://www.vectary.com/", "Vectary"),
    ("SketchUp Free", "Mechanical", "Middle/High", "3D modeling for everyone.", "大众化的 3D 建模工具。", "https://www.sketchup.com/plans-and-pricing/sketchup-free", "SketchUp"),
    ("SimScale", "Mechanical", "University", "Cloud simulation for FEA/CFD.", "云端 FEA/CFD 仿真平台。", "https://www.simscale.com/", "SimScale"),
    ("Consim", "Mechanical", "University", "Control systems simulation.", "控制系统仿真。", "http://consim.com/", "Consim")
]


# IT & Networking
networking_experiments = [
    ("Packet Tracer", "Networking", "University", "Cisco network simulation tool (Web view).", "思科网络模拟工具。", "https://www.netacad.com/courses/packet-tracer", "PacketTracer"),
    ("NS-3", "Networking", "University", "Discrete-event network simulator.", "离散事件网络模拟器。", "https://www.nsnam.org/", "NS-3"),
    ("GNS3", "Networking", "University", "Graphic Network Simulator.", "图形化网络模拟器。", "https://www.gns3.com/", "GNS3"),
    ("Subnetting Practice", "Networking", "High", "Practice subnetting skills.", "练习子网划分技巧。", "https://subnettingpractice.com/", "Subnetting"),
    ("IP Calc", "Networking", "High", "Online IP Subnet Calculator.", "在线 IP 子网计算器。", "http://jodies.de/ipcalc", "IP Calc"),
    ("Wireshark Sample Captures", "Networking", "University", "Sample packet captures for analysis.", "供分析的数据包捕获样本。", "https://wiki.wireshark.org/SampleCaptures", "Wireshark Data"),
    ("DNS Viz", "Networking", "University", "Visualization of DNS SEC.", "DNS SEC 可视化工具。", "https://dnsviz.net/", "DNS Viz"),
    ("BGP Looking Glass", "Networking", "University", "View routing tables.", "查看路由表的 Looking Glass。", "https://looking.house/", "Looking Glass"),
    ("Ping.pe", "Networking", "All", "Global ping test.", "全球 Ping 测试。", "http://ping.pe/", "Ping.pe"),
    ("Speedtest CLI", "Networking", "All", "Test network speed.", "网络速度测试。", "https://www.speedtest.net/", "Speedtest"),
    ("WebPageTest", "Networking", "High", "Website performance and loading speed.", "网站性能和加载速度测试。", "https://www.webpagetest.org/", "WebPageTest"),
    ("Whois Lookup", "Networking", "All", "Domain name registration data.", "域名注册信息查询。", "https://who.is/", "Whois"),
    ("SSL Labs", "Networking", "High", "Test SSL/TLS configuration.", "测试服务器 SSL/TLS 配置。", "https://www.ssllabs.com/ssltest/", "SSL Labs"),
    ("Huli", "Networking", "University", "Visualizing HTTP headers.", "可视化 HTTP 头部。", "https://huli.io/", "Huli"),
    ("Postman", "Networking", "High", "API platform for building and using APIs.", "构建和测试 API 的平台。", "https://www.postman.com/", "Postman")
]

# Data Science
data_experiments = [
    ("TensorFlow Playground", "Data Science", "University", "Tinker with a neural network in your browser.", "在浏览器中玩转神经网络。", "https://playground.tensorflow.org/", "TF Playground"),
    ("ConvNetJS CIFAR-10", "Data Science", "University", "Train a Convolutional Neural Network in your browser.", "在浏览器中训练卷积神经网络。", "https://cs.stanford.edu/people/karpathy/convnetjs/demo/cifar10.html", "ConvNetJS"),
    ("Distill.pub", "Data Science", "University", "Interactive ML articles.", "交互式机器学习文章。", "https://distill.pub/", "Distill"),
    ("Observable", "Data Science", "High", "Interactive data visualization notebooks.", "交互式数据可视化笔记本。", "https://observablehq.com/", "Observable"),
    ("Kaggle Kernels", "Data Science", "University", "Cloud computational environment.", "云端数据科学计算环境。", "https://www.kaggle.com/code", "Kaggle"),
    ("Google Colab", "Data Science", "University", "Hosted Jupyter notebook service.", "托管的 Jupyter 笔记本服务。", "https://colab.research.google.com/", "Colab"),
    ("Project Jupyter", "Data Science", "University", "Try Jupyter in your browser.", "在线体验 Jupyter。", "https://jupyter.org/try", "Jupyter"),
    ("Data Wrapper", "Data Science", "Middle", "Create charts and maps.", "创建图表和地图。", "https://www.datawrapper.de/", "DataWrapper"),
    ("Flourish", "Data Science", "Middle", "Data visualization and storytelling.", "数据可视化和故事讲述。", "https://flourish.studio/", "Flourish"),
    ("RawGraphs", "Data Science", "High", "Visualize complex data.", "复杂数据可视化工具。", "https://rawgraphs.io/", "RawGraphs"),
    ("Kepler.gl", "Data Science", "University", "Geospatial analysis tool.", "地理空间分析工具。", "https://kepler.gl/", "Kepler.gl"),
    ("Orange Data Mining", "Data Science", "University", "Visual programming for data mining.", "数据挖掘的可视化编程。", "https://orangedatamining.com/", "Orange (Download)"), # Mostly download but has web view
    ("Teachable Machine", "Data Science", "All", "Train a computer to recognize your images/sounds.", "训练计算机识别图像/声音。", "https://teachablemachine.withgoogle.com/", "Teachable Machine"),
    ("Setosa.io", "Data Science", "High", "Visual explanations of math/data concepts.", "数学和数据概念的可视化解释。", "https://setosa.io/", "Setosa"),
    ("Immersive Linear Algebra", "Data Science", "University", "Interactive linear algebra textbook.", "交互式线性代数教科书。", "http://immersivemath.com/ila/index.html", "Immersive Math"),
    ("Seeing Theory", "Data Science", "University", "A visual introduction to probability and statistics.", "概率论与统计学的可视化入门。", "https://seeing-theory.brown.edu/", "Seeing Theory"),
    ("Explained.ai", "Data Science", "University", "Deep explanations of ML concepts.", "机器学习概念的深度解释。", "https://explained.ai/", "Explained.ai"),
    ("Fast.ai", "Data Science", "University", "Practical deep learning.", "实用深度学习课程。", "https://www.fast.ai/", "Fast.ai")
]

# --- Append New Experiments ---
def append_new_items(item_list, category, default_cover):
    for title, cat, level, desc, desc_zh, url, _ in item_list: # Ignored last short_name
        experiments.append({
            'title': title,
            'title_zh': title if is_ascii(title) else desc_zh.split('：')[0], # Heuristic
            'category': category,
            'level': level,
            'description': desc,
            'description_zh': desc_zh,
            'url': url,
            'thumbnail': default_cover
        })

# Helper ensuring ascii
def is_ascii(s):
    return all(ord(c) < 128 for c in s)

# Appending logic
print(f"Adding {len(cs_experiments)} CS experiments...")
append_new_items(cs_experiments, 'Computer Science', category_covers['Computer Science'])

print(f"Adding {len(electronics_experiments)} Electronics experiments...")
append_new_items(electronics_experiments, 'Electronics', category_covers['Electronics'])

print(f"Adding {len(mechanical_experiments)} Mechanical experiments...")
append_new_items(mechanical_experiments, 'Mechanical', category_covers['Mechanical'])

print(f"Adding {len(networking_experiments)} Networking experiments...")
append_new_items(networking_experiments, 'Networking', category_covers['Networking'])

print(f"Adding {len(data_experiments)} Data Science experiments...")
append_new_items(data_experiments, 'Data Science', category_covers['Data Science'])

